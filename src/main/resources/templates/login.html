<!DOCTYPE html>
<html lang="bg" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Вход – EventApp</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <link rel="stylesheet" th:href="@{/css/auth.css}" />
</head>
<body class="landing">
<header class="landing-header">
    <div class="container topbar">
        <a class="brand" th:href="@{/}">EventApp</a>
        <nav class="nav">
            <a class="nav-link" th:href="@{/login}">Вход</a>
            <a class="nav-cta" th:href="@{/register}">Регистрация</a>
        </nav>
    </div>
</header>

<main>
    <section class="hero slim-hero">
        <div class="container hero-inner">
            <h1 class="hero-title">Добре дошъл обратно</h1>
            <p class="hero-subtitle">Влез, за да управляваш участията си и да откриваш нови събития.</p>
        </div>
        <div class="hero-bg"></div>
    </section>

    <div class="container">
        <div class="card card-narrow">
            <h2 class="mt-0">Вход</h2>
            <form method="post" th:action="@{/login}" th:object="${loginRequest}">

                <div th:if="${param.error}" class="error-message-container">
                    <span class="badge-error error-badge-block">Невалиден имейл или парола.</span>
                </div>

                <label for="email">
                    <span>Имейл</span>
                    <span class="badge-error" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Невалиден имейл</span>
                </label>
                <input id="email" name="email" type="email" th:field="*{email}" th:classappend="${#fields.hasErrors('email')} ? 'invalid'" />

                <label for="password">
                    <span>Парола</span>
                    <span class="badge-error" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Невалидна парола</span>
                </label>
                <input id="password" name="password" type="password" minlength="6" th:field="*{password}" th:classappend="${#fields.hasErrors('password')} ? 'invalid'" />

                <button type="submit" class="btn-wide">Вход</button>

                <p class="center mt-12">
                    Нямаш акаунт? <a th:href="@{/register}" class="link">Регистрирай се</a>
                </p>
            </form>
        </div>
    </div>
</main>

<th:block th:replace="~{fragments/footer :: siteFooter}"></th:block>
</body>
</html>